async function searchWiki() {
  const query = document.getElementById("searchInput").value;
  const resultsDiv = document.getElementById("results");

  if (!query) {
    resultsDiv.innerHTML = "<p>Please enter something to search.</p>";
    return;
  }

  resultsDiv.innerHTML = "<p>üîÑ Searching AI knowledge...</p>";

  const url = `https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${query}&format=json&origin=*`;

  try {
    const response = await fetch(url);
    const data = await response.json();

    resultsDiv.innerHTML = "";

    data.query.search.forEach(item => {
      const card = document.createElement("div");
      card.className = "result-card";
      card.innerHTML = `
        <h3>${item.title}</h3>
        <p>${item.snippet}...</p>
      `;
      resultsDiv.appendChild(card);
    });

  } catch (error) {
    resultsDiv.innerHTML = "<p>Error fetching data.</p>";
  }
}
const toggle = document.getElementById("toggleTheme");

// Load saved theme
if (localStorage.getItem("theme") === "light") {
  document.body.classList.add("light");
  toggle.checked = true;
}

toggle.addEventListener("change", () => {
  document.body.classList.toggle("light");

  if (document.body.classList.contains("light")) {
    localStorage.setItem("theme", "light");
  } else {
    localStorage.setItem("theme", "dark");
  }
});
let activeTab = "all";
if (activeTab === "ai") {
  const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${query}`;

  try {
    const res = await fetch(url);
    const data = await res.json();

    const answer = data.extract || 
      "I couldn't find detailed information, but try refining your question.";

    resultsDiv.innerHTML = `
      <div class="ai-card">
        <div class="ai-title">
          <span>ü§ñ</span>
          AI Answer
        </div>
        <div id="aiText" class="typing"></div>
      </div>
    `;

    typeEffect(
      document.getElementById("aiText"),
      `Here‚Äôs a simple explanation:\n\n${answer}`
    );

  } catch (e) {
    resultsDiv.innerHTML = `
      <div class="ai-card">
        <div class="ai-title">
          <span>‚ö†Ô∏è</span>
          AI Error
        </div>
        <p>Unable to generate AI response right now.</p>
      </div>
    `;
  }
  return;
}

document.querySelectorAll(".nav-item").forEach(item => {
  item.addEventListener("click", () => {
    document.querySelectorAll(".nav-item").forEach(i =>
      i.classList.remove("active")
    );
    item.classList.add("active");
  });
});
function typeEffect(element, text, speed = 20) {
  element.innerHTML = "";
  let i = 0;

  const interval = setInterval(() => {
    element.innerHTML += text.charAt(i);
    i++;
    if (i >= text.length) clearInterval(interval);
  }, speed);
}
fetch("https://api.openai.com/v1/chat/completions", ...)



